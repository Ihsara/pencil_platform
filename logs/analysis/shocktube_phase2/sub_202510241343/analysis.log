2025-10-24 13:43:34.569 | INFO     | src.core.logging:setup_file_logging:63 - üìù Logging to file: logs/analysis/shocktube_phase2/sub_202510241343/analysis.log
2025-10-24 13:43:34.569 | DEBUG    | src.core.logging:setup_file_logging:64 - Log directory: logs/analysis/shocktube_phase2/sub_202510241343
2025-10-24 13:43:34.570 | INFO     | src.workflows.analysis_pipeline:analyze_suite_videos_only:240 - ================================================================================
2025-10-24 13:43:34.570 | INFO     | src.workflows.analysis_pipeline:analyze_suite_videos_only:241 - STARTING VIDEO-ONLY ANALYSIS: 'shocktube_phase2'
2025-10-24 13:43:34.570 | INFO     | src.workflows.analysis_pipeline:analyze_suite_videos_only:243 - Combined error video generation ENABLED.
2025-10-24 13:43:34.570 | INFO     | src.workflows.analysis_pipeline:analyze_suite_videos_only:244 - ================================================================================
2025-10-24 13:43:34.587 | INFO     | src.workflows.analysis_pipeline:analyze_suite_videos_only:255 - Error analysis configuration:
2025-10-24 13:43:34.587 | INFO     | src.workflows.analysis_pipeline:analyze_suite_videos_only:256 -   ‚îú‚îÄ Metrics to calculate: L1
2025-10-24 13:43:34.587 | INFO     | src.workflows.analysis_pipeline:analyze_suite_videos_only:257 -   ‚îî‚îÄ Combine in videos: True
2025-10-24 13:43:34.588 | INFO     | src.workflows.analysis_pipeline:analyze_suite_videos_only:272 - Clearing old visualization directories...
2025-10-24 13:43:34.588 | INFO     | src.workflows.analysis_pipeline:clear_directory:56 - Clearing existing directory: /scratch/project_2008296/chau/pencil_platform/analysis/shocktube_phase2/var/evolution
2025-10-24 13:43:34.604 | INFO     | src.workflows.analysis_pipeline:clear_directory:56 - Clearing existing directory: /scratch/project_2008296/chau/pencil_platform/analysis/shocktube_phase2/error/evolution
2025-10-24 13:43:34.625 | INFO     | src.workflows.analysis_pipeline:clear_directory:56 - Clearing existing directory: /scratch/project_2008296/chau/pencil_platform/analysis/shocktube_phase2/error/frames
2025-10-24 13:43:34.633 | INFO     | src.workflows.analysis_pipeline:analyze_suite_videos_only:281 - Total experiments to process: 24
2025-10-24 13:43:34.633 | INFO     | src.workflows.analysis_pipeline:analyze_suite_videos_only:300 - 
================================================================================
2025-10-24 13:43:34.634 | INFO     | src.workflows.analysis_pipeline:analyze_suite_videos_only:301 - PHASE 1: Loading data and creating individual videos
2025-10-24 13:43:34.634 | INFO     | src.workflows.analysis_pipeline:analyze_suite_videos_only:302 - ================================================================================
2025-10-24 13:43:34.634 | INFO     | src.workflows.analysis_pipeline:analyze_suite_videos_only:312 - 
üìÇ Processing branch: r1_nu0.5_dg (8 runs)
2025-10-24 13:43:34.634 | INFO     | src.workflows.analysis_pipeline:analyze_suite_videos_only:319 -   ‚îú‚îÄ [1/24] (4.2%) | Branch: [1/8] (12.5%) | Run: res400_hyper3_nu9e-15_chi9e-15_r1_nu0.5_dg
2025-10-24 13:43:34.637 | INFO     | src.workflows.analysis_pipeline:load_all_var_files:93 - Loading all 36 VAR files from /scratch/project_2008296/chau/runs/shocktube_phase2/res400_hyper3_nu9e-15_chi9e-15_r1_nu0.5_dg
2025-10-24 13:45:51.462 | DEBUG    | src.analysis.errors:calculate_spatial_errors:116 - Calculating spatial errors for 36 timesteps using method: absolute
2025-10-24 13:45:51.465 | ERROR    | __main__:main:225 - An unexpected error occurred: operands could not be broadcast together with shapes (400,) (406,) 
Traceback (most recent call last):

  File "/scratch/project_2008296/chau/pencil_platform/main.py", line 229, in <module>
    main()
    ‚îî <function main at 0x7f1a5f135440>

> File "/scratch/project_2008296/chau/pencil_platform/main.py", line 129, in main
    analyze_suite_videos_only(experiment_name, combined_video=True)
    ‚îÇ                         ‚îî 'shocktube_phase2'
    ‚îî <function analyze_suite_videos_only at 0x7f1a5f134c20>

  File "/scratch/project_2008296/chau/pencil_platform/src/workflows/analysis_pipeline.py", line 335, in analyze_suite_videos_only
    spatial_errors_abs = calculate_spatial_errors(all_sim_data, all_analytical_data, error_method='absolute')
                         ‚îÇ                        ‚îÇ             ‚îî [{'rho': array([1.   , 1.   , 1.   , 1.   , 1.   , 1.   , 1.   , 1.   , 1.   ,
                         ‚îÇ                        ‚îÇ                      1.   , 1.   , 1.   , 1.   , 1.   , 1.  ...
                         ‚îÇ                        ‚îî [{'x': array([-0.50751877, -0.5050125 , -0.50250626, -0.5       , -0.49749374,
                         ‚îÇ                                 -0.49498746, -0.4924812 , -0.48997495, ...
                         ‚îî <function calculate_spatial_errors at 0x7f1a600a2e80>

  File "/scratch/project_2008296/chau/pencil_platform/src/analysis/errors.py", line 131, in calculate_spatial_errors
    error = np.abs(sim_data[var] - analytical_data[var])
            ‚îÇ  ‚îÇ   ‚îÇ        ‚îÇ      ‚îÇ               ‚îî 'rho'
            ‚îÇ  ‚îÇ   ‚îÇ        ‚îÇ      ‚îî {'rho': array([1.   , 1.   , 1.   , 1.   , 1.   , 1.   , 1.   , 1.   , 1.   ,
            ‚îÇ  ‚îÇ   ‚îÇ        ‚îÇ               1.   , 1.   , 1.   , 1.   , 1.   , 1.   ...
            ‚îÇ  ‚îÇ   ‚îÇ        ‚îî 'rho'
            ‚îÇ  ‚îÇ   ‚îî {'x': array([-0.50751877, -0.5050125 , -0.50250626, -0.5       , -0.49749374,
            ‚îÇ  ‚îÇ            -0.49498746, -0.4924812 , -0.48997495, -...
            ‚îÇ  ‚îî <ufunc 'absolute'>
            ‚îî <module 'numpy' from '/scratch/project_2008296/chau/pencil_platform/.venv/lib/python3.13/site-packages/numpy/__init__.py'>

ValueError: operands could not be broadcast together with shapes (400,) (406,) 
